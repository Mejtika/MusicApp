<div class="main container mt-2">
  <ng-container *ngIf="(ranking$ | async) as ranking; else loading">
    <p-table [columns]="cols" [responsive]=false [value]="ranking" [scrollable]="true" [rows]="100" scrollHeight="flex">
      <ng-template pTemplate="header" let-columns>
        <tr>
          <th>Miejsce</th>
          <th>Tytu≈Ç</th>
          <th>Odtworzenia</th>
          <th></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rank>
        <tr [pSelectableRow]="rank">
          <td>
            {{rank.place}}
          </td>
          <td class="collapsible">
            {{rank.title}}
          </td>
          <td>
            {{rank.count}}
          </td>
          <td>
            <button type="button" class="button p-2" (click)="selectRank(rank)">
              <i class="fs-4 bi bi-music-note"></i>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </ng-container>
  <ng-template #loading>
    <div class="d-flex justify-content-center">
      <p-progressSpinner></p-progressSpinner>
    </div>
  </ng-template>
</div>
