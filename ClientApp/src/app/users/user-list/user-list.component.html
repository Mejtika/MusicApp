<p-table #dt [value]="users" [rows]="5" [paginator]="true" [globalFilterFields]="['email', 'userName']"
  [rowHover]="true" dataKey="id" [responsive]="true"
  currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries" [showCurrentPageReport]="true">
  <ng-template pTemplate="caption">
    <div class="d-flex justify-content-between align-content-end">
      <div>
        <button type="button" class="createbutton p-2" (click)="createUser()">
          <i class="fs-4 bi bi-person-plus-fill"></i>
        </button>
      </div>
      <div class="input-group search">
        <span class="input-group-text" id="addon-wrapping"><i class="bi bi-search"></i></span>
        <input type="text" (input)="dt.filterGlobal($any($event).target.value, 'contains')" placeholder="Wyszukaj" class="form-control">
      </div>
    </div>
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="userName">Nick <p-sortIcon field="userName"></p-sortIcon>
      </th>
      <th pSortableColumn="email">Email <p-sortIcon field="email"></p-sortIcon>
      </th>
      <th pSortableColumn="emailConfirmed">Potwierdziony<p-sortIcon field="emailConfirmed"></p-sortIcon>
      </th>
      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user>
    <tr>
      <td class="p-fluid">
        <span class="p-column-title">Nick</span>
        {{ user.userName}}
      </td>
      <td class="p-fluid">
        <span class="p-column-title">Email</span>
        {{ user.email }}
      </td>
      <td class="p-fluid">
        <span class="p-column-title">Potwierdziony</span>
        <i class="pi fs-5"
          [ngClass]="{'true-icon pi-check-circle': user.emailConfirmed, 'false-icon pi-times-circle': !user.emailConfirmed}"></i>
      </td>
      <td class="d-flex flex-row">
        <div (click)="updateUser(user)"><i class="p-2 fs-4 button bi bi-pencil-square"></i></div>
        <div (click)="deleteUser(user)"><i class="p-2 mx-2 fs-4 button bi bi-trash-fill"></i></div>
      </td>
    </tr>
  </ng-template>
</p-table>
